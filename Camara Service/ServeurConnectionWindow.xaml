<Window x:Class="Camara_Service.ServerConnectionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize"
        Width="542" Height="371"
        WindowStartupLocation="CenterScreen"
        Title="Serveur Indisponible">

    <Grid>
        <!-- Arrière-plan flouté avec lueur -->
        <Border CornerRadius="25" Padding="25" Background="#23252F" Opacity="0.90">
            <Border.Effect>
                <DropShadowEffect BlurRadius="35" ShadowDepth="0" Color="#0078FF"/>
            </Border.Effect>

            <Grid VerticalAlignment="Center">
                <StackPanel HorizontalAlignment="Center">

                    <!-- Titre -->
                    <TextBlock Text="Connexion au serveur échouée"
                               Foreground="#B0CFFF"
                               FontSize="22"
                               FontWeight="SemiBold"
                               TextAlignment="Center"/>

                    <!-- Sous-message -->
                    <TextBlock Text="Votre appareil n'arrive pas à joindre le serveur de données."
                               Foreground="#6F7C9A"
                               FontSize="14"
                               TextAlignment="Center"/>

                    <!-- Cercle animé -->
                    <Grid Width="90" Height="90">
                        <Ellipse Stroke="#3B4A6C" StrokeThickness="4"/>
                        <Ellipse Stroke="#62A5FF" StrokeThickness="4"
                                 StrokeDashArray="6 8"
                                 RenderTransformOrigin="0.5,0.5">
                            <Ellipse.RenderTransform>
                                <RotateTransform x:Name="rotateLoader"/>
                            </Ellipse.RenderTransform>
                        </Ellipse>
                    </Grid>

                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" >

                        <!-- Bouton Réessayer -->
                        <Button Content="🔄 Réessayer"
                                Width="200" Height="42"
                                Background="#006DFF"
                                Foreground="White"
                                FontSize="15"
                                FontWeight="Bold"
                                BorderThickness="0"
                                Cursor="Hand"
                                Margin="9"
                                Click="RetryConnection_Click"
                                />

                        <!-- Bouton Config -->
                        <Button Content="⚙ Modifier l'adresse du serveur"
                                Width="240" Height="36"
                                Background="#162029"
                                Foreground="#8FA6C6"
                                FontSize="13"
                                BorderThickness="0"
                                Cursor="Hand"
                                Margin="9"
                                Click="OpenConfig_Click"
                                />

                        <!-- Bouton Quitter -->
                        <Button Content="❌ Quitter"
                                Width="120" Height="30"
                                Background="Transparent"
                                Foreground="#6F7C9A"
                                BorderBrush="#6F7C9A"
                                FontSize="12"
                                Cursor="Hand"
                                Click="Exit_Click"/>
                        <TextBlock Name="monip" Text="Mon ip: "
                            Foreground="#6F7C9A"
                            FontSize="14"
                            TextAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>

    <!-- Animation rotation -->
    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard>
                <Storyboard RepeatBehavior="Forever">
                    <DoubleAnimation Storyboard.TargetName="rotateLoader"
                                     Storyboard.TargetProperty="Angle"
                                     From="0" To="360"
                                     Duration="0:0:2"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>
</Window>
