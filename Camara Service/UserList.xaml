<Window x:Class="Camara_Service.UserList"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Gestion des utilisateurs"
        Width="800" Height="600"
        WindowStyle="None" 
        Background="{x:Null}" 
        AllowsTransparency="True" 
        WindowStartupLocation="CenterScreen">
    <Grid>
        <!-- Conteneur Principal -->
        <Border CornerRadius="10" Margin="10" Padding="10" BorderBrush="#FF64B5F6" BorderThickness="2">
            <Border.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black" Offset="0"/>
                    <GradientStop Color="#FF565656" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid>
                <!-- En-tête -->
                <DockPanel LastChildFill="True">
                    <TextBlock Text="Gestion des Utilisateurs" FontSize="24" FontWeight="Bold" Foreground="#FF64B5F6" Margin="10" />
                    <Button Content="X" Width="30" Height="30" HorizontalAlignment="Right" VerticalAlignment="Top" 
                            Background="#FF64B5F6" Foreground="White" BorderBrush="Transparent"
                            FontWeight="Bold" Click="CloseWindow_Click" />
                </DockPanel>

                <!-- Tableau des utilisateurs -->
                <DataGrid Name="UserDataGrid" AutoGenerateColumns="False" CanUserAddRows="False" Margin="0,50,0,0"
                          HorizontalAlignment="Stretch" VerticalAlignment="Stretch" HeadersVisibility="Column"
                          Background="{x:Null}" BorderThickness="0" SelectionMode="Single" Foreground="Black" IsReadOnly="True">
                    <!-- Colonnes -->
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Nom" Binding="{Binding Nom}" Width="*" />
                        <DataGridTextColumn Header="Nom d'utilisateur" Binding="{Binding Username}" Width="*" />
                        <DataGridTextColumn Header="Rôle" Binding="{Binding Info}" Width="*" />
                        <DataGridTemplateColumn Header="Actions" Width="Auto">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <!-- Bouton pour donner le droit admin -->
                                        <Button Content="Role" 
                                                Width="70" 
                                                Margin="5,0" 
                                                Background="#FF64B5F6" 
                                                Foreground="White" 
                                                BorderBrush="Transparent" 
                                                Click="GrantAdmin_Click" />
                                        <!-- Bouton pour supprimer -->
                                        <Button Content="Supprimer" 
                                                Width="70" 
                                                Margin="5,0" 
                                                Background="Red" 
                                                Foreground="White" 
                                                BorderBrush="Transparent" 
                                                Click="DeleteUser_Click" />
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>
    </Grid>
</Window>
