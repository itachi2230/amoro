<Window x:Class="Camara_Service.GestionUsersWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Gestion Utilisateurs" Height="500" Width="750"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        WindowStartupLocation="CenterScreen">

    <Border Background="#F5F6FA" CornerRadius="15" BorderBrush="#DCDDE1" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="80"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" Background="#2F3640" CornerRadius="15,15,0,0" MouseLeftButtonDown="Header_MouseDown">
                <Grid>
                    <TextBlock Text="GESTION DES ACCÈS" Foreground="White" VerticalAlignment="Center" 
                               HorizontalAlignment="Left" Margin="20,0" FontWeight="Bold" FontSize="14"/>
                    <Button Content="✕" HorizontalAlignment="Right" Background="Transparent" Foreground="White" 
                            BorderThickness="0" Width="40" FontSize="16" Click="Close_Click"/>
                </Grid>
            </Border>

            <DataGrid x:Name="UsersDataGrid" Grid.Row="1" Margin="20" Background="White"
                      AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True"
                      BorderThickness="0" RowHeight="40" GridLinesVisibility="None"
                      HeadersVisibility="Column" SelectionMode="Single">
                <DataGrid.Resources>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#F5F6FA"/>
                        <Setter Property="Foreground" Value="#7F8C8D"/>
                        <Setter Property="FontWeight" Value="SemiBold"/>
                        <Setter Property="Padding" Value="10,5"/>
                        <Setter Property="BorderThickness" Value="0,0,0,1"/>
                        <Setter Property="BorderBrush" Value="#DCDDE1"/>
                    </Style>
                </DataGrid.Resources>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="NOM COMPLET" Binding="{Binding Nom}" Width="*"/>
                    <DataGridTextColumn Header="IDENTIFIANT" Binding="{Binding Username}" Width="*"/>
                    <DataGridTemplateColumn Header="RÔLE" Width="120">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Border CornerRadius="5" Padding="5,2">
                                    <TextBlock Text="{Binding Info}" Foreground="White" HorizontalAlignment="Center" FontSize="11"/>
                                </Border>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>

            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Content="Promouvoir Admin" Click="MakeAdmin_Click" Style="{StaticResource ModernButtonStyle}" Background="#3498DB"/>
                <Button Content="Passer Vendeur" Click="MakeUser_Click" Style="{StaticResource ModernButtonStyle}" Background="#9B59B6"/>
                <Button Content="Supprimer l'accès" Click="Delete_Click" Style="{StaticResource ModernButtonStyle}" Background="#E74C3C"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>